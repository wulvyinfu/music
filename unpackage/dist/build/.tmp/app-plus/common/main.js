(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["common/main"],{5279:function(t,e,n){"use strict";n("afac");var o=i(n("f3d3")),a=i(n("64f7")),r=i(n("7bd8"));function i(t){return t&&t.__esModule?t:{default:t}}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(e){u(t,e,n[e])})}return t}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}o.default.config.productionTip=!1,a.default.mpType="app",o.default.prototype.$store=r.default;var c=new o.default(l({store:r.default},a.default));c.$mount()},"64f7":function(t,e,n){"use strict";n.r(e);var o=n("fe67");for(var a in o)"default"!==a&&function(t){n.d(e,t,function(){return o[t]})}(a);n("ee9b");var r,i,l=n("2877"),u=Object(l["a"])(o["default"],r,i,!1,null,null,null);e["default"]=u.exports},"7bd8":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(n("f3d3")),a=r(n("2f62"));function r(t){return t&&t.__esModule?t:{default:t}}o.default.use(a.default);var i=new a.default.Store({state:{audio:t.createInnerAudioContext(),detail:{},paused:!0,lrc:"",history:[],historys:{},num:-1,mode:2,aLike:[],aStar:[],currentSrc:"",totar:!1,tolike:!1,playList:[]},mutations:{setsrc:function(t,e){t.audio.src=e,t.audio.play(),t.paused=!1,t.currentSrc=e},getdetail:function(t,e){t.detail=e},getlrc:function(t,e){t.lrc=e},next:function(t){2===t.mode?t.playList.length-1===t.num?t.num=0:t.num++:t.num=Math.floor(Math.random()*t.playList.length)},pre:function(t){t.num<=0?t.num=t.playList.length-1:t.num--},play:function(t){t.audio.play(),t.paused=!1},pause:function(t){t.audio.pause(),t.paused=!0},isstar:function(t){t.totar=!1;for(var e=0;e<t.aStar.length;e++)if(t.aStar[e].detail.songs[0].id===t.detail.songs[0].id){t.totar=!0;break}},restar:function(t){for(var e=0,n=t.aStar.length;e<n;e++)if(t.aStar[e].detail.songs[0].id===t.detail.songs[0].id){delete t.aStar[e],t.aStar.sort(),t.aStar.length=n-1;break}},getstar:function(t){for(var e=!0,n=0;n<t.aStar.length;n++)if(t.aStar[n].detail.songs[0].id===t.detail.songs[0].id){e=!1;break}e&&t.aStar.push({src:t.currentSrc,detail:t.detail,lrc:t.lrc})},islike:function(t){t.tolike=!1;for(var e=0;e<t.aLike.length;e++)if(t.aLike[e].detail.songs[0].id===t.detail.songs[0].id){t.tolike=!0;break}},relike:function(t){for(var e=0,n=t.aLike.length;e<n;e++)if(t.aLike[e].detail.songs[0].id===t.detail.songs[0].id){delete t.aLike[e],t.aLike.sort(),t.aLike.length=n-1;break}},getlike:function(t){for(var e=!0,n=0;n<t.aLike.length;n++)if(t.aLike[n].detail.songs[0].id===t.detail.songs[0].id){e=!1;break}e&&t.aLike.push({src:t.currentSrc,detail:t.detail,lrc:t.lrc})},gethistory:function(t,e){for(var n=!0,o=0;o<t.history.length;o++)if(t.history[o].detail.songs[0].id===e[1].songs[0].id){n=!1;break}console.log(111,n),n&&(t.history.push({src:e[2],detail:e[1],lrc:e[0]}),console.log(t.history))},toggleModul:function(t){3===t.mode?t.mode=1:t.mode++,console.log(t.mode)},changeList:function(t,e){t.playList=e.list,t.num=e.index}},actions:{getsrc:function(e,n){var o=e.commit;e.dispatch;Promise.all([new Promise(function(e,a){t.request({url:"http://www.302gzs.top:3555/lyric?id=".concat(n.id),success:function(t){o("getlrc",t.data.lrc.lyric),e(t.data.lrc.lyric)}})}),new Promise(function(e,a){t.request({url:"http://www.302gzs.top:3555/song/detail?ids=".concat(n.id),success:function(t){console.log(t),o("getdetail",t.data),e(t.data)}})}),new Promise(function(e,a){t.request({url:"http://www.302gzs.top:3555/song/url?id=".concat(n.id),success:function(t){o("setsrc",t.data.data[0].url),e(t.data.data[0].url)}})})]).then(function(t){o("isstar"),o("gethistory",t)})}}});e.default=i}).call(this,n("6e42")["default"])},"7be1":function(t,e,n){},"86d6":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a(n("2f62"));function a(t){return t&&t.__esModule?t:{default:t}}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(e){i(t,e,n[e])})}return t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l={onLaunch:function(){var t=this;console.log("App Launch"),this.audio.onEnded(function(){var e=t;function n(){console.log(e.playList);var t=e.playList[e.num];t.detail?(e.getlrc(t.lrc),e.getdetail(t.detail),e.setsrc(t.src),t=e.playList[e.num].detail.songs[0]):(console.log(t),e.getsrc(t))}1===t.mode?t.play():(t.next(),n())})},onShow:function(){console.log("App Show")},onHide:function(){console.log("App Hide")},computed:r({},o.default.mapState(["audio","mode","num","history","playList"])),methods:r({},o.default.mapMutations(["play","getlrc","getdetail","setsrc","next"]),o.default.mapActions(["getsrc"]))};e.default=l},ee9b:function(t,e,n){"use strict";var o=n("7be1"),a=n.n(o);a.a},fe67:function(t,e,n){"use strict";n.r(e);var o=n("86d6"),a=n.n(o);for(var r in o)"default"!==r&&function(t){n.d(e,t,function(){return o[t]})}(r);e["default"]=a.a}},[["5279","common/runtime","common/vendor"]]]);